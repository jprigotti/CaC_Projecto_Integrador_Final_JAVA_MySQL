
<%-- 
Document   : index
Created on : 29 jun 2022, 13:14:36
Author     : Dailu
--%>

<%@page import="org.apache.catalina.LifecycleState"%>
<%@page import="Dailu.*"%>
<%@page import="java.sql.*"%>
<%@page import="javax.sql.*"%>
<%@page import="java.util.List"%>
<%@page import="java.util.ArrayList"%>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>



<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CaC Integrador Final</title>

    <!-- Link Fontawesome -->
<script src="https://kit.fontawesome.com/628afeffd4.js" crossorigin="anonymous"></script>

    <!-- Link Local Style -->
<style><%@include file="index.css"%></style>
</head>


<body>

    <div class="empleadosContainer">

<div class="mainTitle">
    <h2> Tabla de empleados con Mysql y Java </h2>
</div>

<div class="tableContainer">

    <div class="tableHeader">
        <div class="tableTitle">
            Empleados
        </div>
        <div class="addEmpleado">
            <a href="EmpleadosController?action=new_jsp"><i class="fa-solid fa-circle-plus"></i> Agregar</a>
        </div>

    </div> <!-- closes tableHeader  -->

    <div class="tableBody">

        <table class="mainTable">

            <thead>
                <tr>
                    <th class="DNI">DNI</th>
                    <th class="apellido">Apellido</th>
                    <th class="nombre">Nombre</th>
                    <th class="numDpto center">Num Depto</th>
                    <th class="editar center">Editar</th>
                </tr>
            </thead>

<!-- https://stackoverflow.com/questions/22419386/servlet-send-arraylist-to-jsp-as-request-attribute -->
<% 
List<Empleados> listaEmpleados = (ArrayList<Empleados>) request.getAttribute("lista");

for (int i=0; i<listaEmpleados.size();i++){
%>
<tbody>
<tr>
<!-- <td class="center"><% out.println(listaEmpleados.get(i).idEmpleado); %></td> -->
<td><% out.println(listaEmpleados.get(i).DNI); %></td>
<td><% out.println(listaEmpleados.get(i).apellido); %></td>
<td><% out.println(listaEmpleados.get(i).nombre); %></td>
<td class="center"><% out.println(listaEmpleados.get(i).numeroDepartamento); %></td>
<td class="center"><a href="EmpleadosController?action=update_jsp&idEmpleado=<% out.println(listaEmpleados.get(i).idEmpleado); %>"><i class="fa-solid fa-pencil icon"></i></a><a href="EmpleadosController?action=delete_mysql&idEmpleado=<% out.println(listaEmpleados.get(i).idEmpleado); %>"><i class="fa-solid fa-trash-can icon"></i></a></td>
</tr>


<%
}
%>
</tbody>
</table>

</div> <!-- closes tableBody  -->
</div> <!-- closes tableContainer  -->
</div> <!-- closes empleadosContainer -->

</body>
</html>